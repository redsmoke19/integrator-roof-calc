"use strict";!function(){var s=!0;var t,n,e,o,i,r,a,c,l,d,p,u,m,f,y,h,v,_,g,b,S;function E(e){this.type=e}function L(){var e;e=e||setTimeout(function(){!(e=null)===o.matches?(void 0!==t&&t.destroy(!0,!0),void 0!==n&&n.destroy(!0,!0)):!1===o.matches&&a()},100)}function k(e){e.remove(),e=null}function A(){f.forEach(function(e){e.classList.remove("_active")}),this.classList.add("_active"),h=this.getAttribute("data-tabs-class"),v(h)}E.prototype.init=function(){var i=this,r=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e],n=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(n[0].trim()),o.breakpoint=n[1]?n[1].trim():"767",o.place=n[2]?n[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint},this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,function(e,t,n){return Array.prototype.indexOf.call(n,e)===t});for(var a=0;a<this.mediaQueries.length;a++)!function(e){var e=i.mediaQueries[e],e=String.prototype.split.call(e,","),t=window.matchMedia(e[0]),n=e[1],o=Array.prototype.filter.call(i.оbjects,function(e){return e.breakpoint===n});t.addListener(function(){r.mediaHandler(t,o)}),i.mediaHandler(t,o)}(a)},E.prototype.mediaHandler=function(e,t){if(e.matches)for(var n=0;n<t.length;n++){var o=t[n];o.index=this.indexInParent(o.parent,o.element),this.moveTo(o.place,o.element,o.destination)}else for(var i=0;i<t.length;i++){var r=t[i];r.element.classList.contains(this.daClassname)&&this.moveBack(r.parent,r.element,r.index)}},E.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},E.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},E.prototype.indexInParent=function(e,t){e=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(e,t)},E.prototype.arraySort=function(e){"max"===this.type?Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint}):Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint})},new E("max").init(),function(){for(var n=document.querySelectorAll("._popup-link"),c=document.querySelectorAll(".popup"),e=function(e){var t=n[e];t.addEventListener("click",function(e){s&&function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";0<document.querySelectorAll(".popup._active").length&&i("",!1);var n=document.querySelector(".popup_"+e);n&&s&&(""!==t&&null!=t&&(document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'),document.querySelector(".menu__body._active")||function(e){var t=document.querySelector("body");if(s){for(var n=document.querySelectorAll("._lp"),o=0;o<n.length;o++)n[o].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),s=!1,setTimeout(function(){s=!0},e)}}(500),n.classList.add("_active"),history.pushState("","","#"+e))}(t.getAttribute("href").replace("#",""),t.getAttribute("data-video")),e.preventDefault()})},t=0;t<n.length;t++)e(t);for(var o=0;o<c.length;o++)c[o].addEventListener("click",function(e){e.target.closest(".popup__body")||i(e.target.closest(".popup"))});function i(e,t){var n,o,i=!(1<arguments.length&&void 0!==t)||t;if(s){if(e){t=e.querySelector(".popup__video");t&&(t.innerHTML=""),e.classList.remove("_active")}else for(var r=0;r<c.length;r++){var a=c[r],l=a.querySelector(".popup__video");l&&(l.innerHTML=""),a.classList.remove("_active")}!document.querySelector(".menu__body._active")&&i&&(i=500,o=document.querySelector("body"),s&&(n=document.querySelectorAll("._lp"),setTimeout(function(){for(var e=0;e<n.length;e++)n[e].style.paddingRight="0px";o.style.paddingRight="0px",o.classList.remove("_lock")},i),s=!1,setTimeout(function(){s=!0},i))),history.pushState("","",window.location.href.split("#")[0])}}var r=document.querySelectorAll(".popup__close,._popup-close");if(r)for(var a=0;a<r.length;a++)!function(e){var t=r[e];t.addEventListener("click",function(){i(t.closest(".popup"))})}(a);document.addEventListener("keydown",function(e){"Escape"===e.code&&i()})}(),e=window.matchMedia("(min-width: 1280px)"),o=window.matchMedia("(min-width: 768px)"),i=document.querySelector("._js-roof-type"),r=document.querySelector("._js-roof-material"),a=function(){i&&(t=new Swiper(i,{direction:"horizontal",grabCursor:!0,preventClicks:!0,preventClicksPropagation:!0,slidesPerView:"auto",spaceBetween:20,slidesOffsetBefore:20,slidesOffsetAfter:20})),r&&(n=new Swiper(r,{direction:"horizontal",grabCursor:!0,preventClicks:!0,preventClicksPropagation:!0,slidesPerView:"auto",spaceBetween:20,slidesOffsetBefore:20,slidesOffsetAfter:20}))},e.addListener(L),o.addListener(L),L(),document.addEventListener("click",function(e){var t,n,o,i,r,a=e.target,l=a.closest(".tooltip__button");l&&(c&&k(c),t=(r=l.parentElement).querySelector(".tooltip__data-title"),n=r.querySelector(".tooltip__data-text"),i=r.querySelector(".tooltip__data-link"),c=document.createElement("div"),o=document.createElement("h3"),e=document.createElement("p"),l=document.createElement("a"),r=document.createElement("button"),c.className="tooltip__body",o.className="tooltip__title",e.className="tooltip__text",l.className="tooltip__link",r.className="tooltip__close",o.textContent=t.textContent,e.innerHTML=n.innerHTML,l.textContent=i?i.textContent:"",l.href=i?i.href:"",c.append(o),c.append(e),c.append(i?l:""),c.append(r),document.body.append(c),e="unset",(l=(l=(i=a.getBoundingClientRect()).left)<0?10:l)>document.body.clientWidth-c.offsetWidth&&(l="unset",e=10),document.body.clientWidth-c.offsetWidth-10<=0&&(e=l=10),(r=i.top-c.offsetHeight-10)<0&&(r=i.top+a.offsetHeight+10),c.style.left=l+"px",c.style.top=r+"px",c.style.right=e+"px")}),document.addEventListener("click",function(e){!c||e.target.closest(".tooltip__body")||e.target.closest(".tooltip__button")||k(c),e.target.closest(".tooltip__close")&&k(c)}),l=document.querySelectorAll("[data-roof-type]"),d=document.querySelector(".roof-size__img"),p=document.querySelectorAll("._js-input-text"),l.forEach(function(t){t.addEventListener("click",function(){var e=t.getAttribute("data-roof-type");d.src="./static/images/content/".concat(e,".png")})}),p.forEach(function(t){t.addEventListener("focus",function(){var e=t.getAttribute("data-roof-size-image");d.src="./static/images/content/".concat(e,".png")})}),document.querySelectorAll(".form__input-text").forEach(function(e){e.addEventListener("focus",function(){e.parentElement.classList.add("_active")}),e.addEventListener("blur",function(){""!==e.value?(e.parentElement.classList.add("_not-empty"),e.parentElement.classList.remove("_active")):(e.parentElement.classList.remove("_active"),e.parentElement.classList.remove("_not-empty"))})}),u=document.querySelectorAll("._height-animation"),m=document.querySelectorAll("._height-animation-trigger"),u.forEach(function(e){e.style.display="none"}),m.forEach(function(t,n){t.addEventListener("input",function(){var e;t.checked?(u[n].style.display="block",e=u[n].scrollHeight,u[n].style.setProperty("--max-height",e+"px")):(u[n].style.setProperty("--max-height",0),u[n].style.paddingBottom="0",u[n].style.marginBottom="0",setTimeout(function(){u[n].style.display="none",u[n].style.paddingBottom="",u[n].style.marginBottom=""},400))})}),_=document.querySelectorAll("[data-roof-type"),g=document.querySelectorAll("._roof-type-content"),y=g,v=function(t){y.forEach(function(e){e=e.classList;e.contains(t)?e.add("_active"):e.remove("_active")})},0<(f=_).length&&f.forEach(function(e){e.addEventListener("click",A)}),b=document.querySelectorAll('[name="roof-material"]'),S=document.querySelector("._js-stropila-check"),b.forEach(function(e){e.addEventListener("input",function(){"falcevaya"===e.value?S.style.display="none":S.style.display="block"})}),document.querySelectorAll(".layout-control__button").forEach(function(e){e.addEventListener("click",function(){e.classList.contains("_minus")&&(e.nextElementSibling.value=+(e.nextElementSibling.value-.01).toFixed(2)),e.classList.contains("_plus")&&(e.previousElementSibling.value=+(+e.previousElementSibling.value+.01).toFixed(2))})})}();